import React, { useEffect } from "react";
import { useSelector, useDispatch } from "react-redux";
import { orderActions } from "../../../redux/actions/order.actions";
import { useHistory, Link } from "react-router-dom";
import OrderUser from './OrderUser'
import './UserDashboardStyle.css'

const DashboardPage = () => {
    const dispatch = useDispatch();
    const totalOrders = useSelector((state) => state.order.orders)
    console.log("dsadsadasdad", totalOrders)
    useEffect(() => {
        dispatch(orderActions.ordersUserRequest());
    }, [dispatch]);

    if (!totalOrders || totalOrders.length === 0) return <></>

    return (
        <div className="user-dash-style">
            <div className="user-dash-body">
                <div className="user-dash-sidebar">
                    <div>
                        <svg viewBox="0 0 778 640" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g id="undraw_add_document_0hek 1" clip-path="url(#clip0)">
                                <path id="Vector" d="M730.435 594.846C743.794 579.647 806.7 504.837 761.989 492.504C728.408 483.241 724.667 534.203 725.794 568.403C720.417 545.361 709.981 518.445 691.646 530.321C665.222 547.436 714.735 585.312 727.668 594.61C727.88 596.501 728.021 597.552 728.021 597.552C728.021 597.552 728.551 596.974 729.497 595.909C730.235 596.426 730.646 596.704 730.646 596.704C730.646 596.704 730.578 596.034 730.435 594.846Z" fill="#E6E6E6" />
                                <path id="Vector_2" d="M53.1842 636.453C68.4842 619.045 140.534 533.361 89.3242 519.236C50.8627 508.626 46.5778 566.995 47.8687 606.166C41.71 579.775 29.7574 548.947 8.75781 562.549C-21.5066 582.152 35.2018 625.533 50.015 636.183C50.2582 638.348 50.4187 639.552 50.4187 639.552C50.4187 639.552 51.0263 638.889 52.1095 637.67C52.9556 638.263 53.4263 638.581 53.4263 638.581C53.4263 638.581 53.3475 637.813 53.1842 636.453Z" fill="#E6E6E6" />
                                <path id="Vector_3" d="M221.806 51.0543C220.48 51.0558 219.209 51.5831 218.272 52.5205C217.334 53.4578 216.807 54.7287 216.806 56.0543V591.054C216.807 592.38 217.334 593.651 218.272 594.588C219.209 595.525 220.48 596.053 221.806 596.054H652.805C654.131 596.053 655.402 595.525 656.339 594.588C657.276 593.651 657.804 592.38 657.805 591.054V56.0543C657.804 54.7287 657.276 53.4578 656.339 52.5205C655.402 51.5831 654.131 51.0558 652.805 51.0543H221.806Z" fill="#E6E6E6" />
                                <path id="Vector_4" d="M584.305 284.679H290.305C288.316 284.679 286.409 283.889 285.002 282.483C283.596 281.076 282.805 279.168 282.805 277.179C282.805 275.19 283.596 273.283 285.002 271.876C286.409 270.469 288.316 269.679 290.305 269.679H584.305C586.295 269.679 588.202 270.469 589.609 271.876C591.015 273.283 591.805 275.19 591.805 277.179C591.805 279.168 591.015 281.076 589.609 282.483C588.202 283.889 586.295 284.679 584.305 284.679Z" fill="white" />
                                <path id="Vector_5" d="M586.83 144.929H391.781C389.033 144.929 386.805 141.571 386.805 137.429C386.805 133.287 389.033 129.929 391.781 129.929H586.83C589.578 129.929 591.805 133.287 591.805 137.429C591.805 141.571 589.578 144.929 586.83 144.929Z" fill="white" />
                                <path id="Vector_6" d="M586.83 187.929H391.781C389.033 187.929 386.805 184.571 386.805 180.429C386.805 176.287 389.033 172.929 391.781 172.929H586.83C589.578 172.929 591.805 176.287 591.805 180.429C591.805 184.571 589.578 187.929 586.83 187.929Z" fill="white" />
                                <path id="Vector_7" d="M584.305 333.179H290.305C288.316 333.179 286.409 332.389 285.002 330.983C283.596 329.576 282.805 327.668 282.805 325.679C282.805 323.69 283.596 321.783 285.002 320.376C286.409 318.969 288.316 318.179 290.305 318.179H584.305C586.295 318.179 588.202 318.969 589.609 320.376C591.015 321.783 591.805 323.69 591.805 325.679C591.805 327.668 591.015 329.576 589.609 330.983C588.202 332.389 586.295 333.179 584.305 333.179Z" fill="white" />
                                <path id="Vector_8" d="M584.305 381.679H290.305C288.316 381.679 286.409 380.889 285.002 379.483C283.596 378.076 282.805 376.168 282.805 374.179C282.805 372.19 283.596 370.283 285.002 368.876C286.409 367.469 288.316 366.679 290.305 366.679H584.305C586.295 366.679 588.202 367.469 589.609 368.876C591.015 370.283 591.805 372.19 591.805 374.179C591.805 376.168 591.015 378.076 589.609 379.483C588.202 380.889 586.295 381.679 584.305 381.679V381.679Z" fill="white" />
                                <path id="Vector_9" d="M584.305 430.179H290.305C288.316 430.179 286.409 429.389 285.002 427.983C283.596 426.576 282.805 424.668 282.805 422.679C282.805 420.69 283.596 418.783 285.002 417.376C286.409 415.969 288.316 415.179 290.305 415.179H584.305C586.295 415.179 588.202 415.969 589.609 417.376C591.015 418.783 591.805 420.69 591.805 422.679C591.805 424.668 591.015 426.576 589.609 427.983C588.202 429.389 586.295 430.179 584.305 430.179Z" fill="white" />
                                <path id="Vector_10" d="M584.305 478.679H290.305C288.316 478.679 286.409 477.889 285.002 476.483C283.596 475.076 282.805 473.168 282.805 471.179C282.805 469.19 283.596 467.283 285.002 465.876C286.409 464.469 288.316 463.679 290.305 463.679H584.305C586.295 463.679 588.202 464.469 589.609 465.876C591.015 467.283 591.805 469.19 591.805 471.179C591.805 473.168 591.015 475.076 589.609 476.483C588.202 477.889 586.295 478.679 584.305 478.679Z" fill="white" />
                                <path id="Vector_11" d="M584.305 527.179H290.305C288.316 527.179 286.409 526.389 285.002 524.983C283.596 523.576 282.805 521.668 282.805 519.679C282.805 517.69 283.596 515.782 285.002 514.376C286.409 512.969 288.316 512.179 290.305 512.179H584.305C586.295 512.179 588.202 512.969 589.609 514.376C591.015 515.782 591.805 517.69 591.805 519.679C591.805 521.668 591.015 523.576 589.609 524.983C588.202 526.389 586.295 527.179 584.305 527.179Z" fill="white" />
                                <path id="Vector_12" d="M322.305 198.929C344.121 198.929 361.805 181.245 361.805 159.429C361.805 137.614 344.121 119.929 322.305 119.929C300.49 119.929 282.805 137.614 282.805 159.429C282.805 181.245 300.49 198.929 322.305 198.929Z" fill="white" />
                                <path id="Vector_13" d="M292.41 297.964L233.507 329.28L232.761 303.184C251.987 299.974 270.278 294.386 287.191 285.289L293.351 270.069C294.022 268.41 295.113 266.955 296.517 265.846C297.921 264.736 299.589 264.011 301.358 263.741C303.126 263.471 304.935 263.665 306.605 264.305C308.276 264.945 309.752 266.008 310.888 267.391V267.391C312.549 269.414 313.38 271.993 313.211 274.605C313.042 277.217 311.887 279.668 309.979 281.46L292.41 297.964Z" fill="#FFB8B8" />
                                <path id="Vector_14" d="M148.486 478.769C148.056 477.193 147.965 475.544 148.218 473.93C148.472 472.316 149.064 470.774 149.955 469.406L162.895 449.548C165.955 444.851 170.651 441.459 176.072 440.029C181.492 438.599 187.251 439.233 192.23 441.809V441.809C186.792 451.065 187.55 459.186 194.108 466.242C183.927 471.212 174.518 477.627 166.172 485.287C164.648 486.326 162.898 486.986 161.068 487.211C159.238 487.437 157.38 487.222 155.65 486.584C153.919 485.946 152.367 484.904 151.121 483.545C149.874 482.186 148.971 480.548 148.486 478.769V478.769Z" fill="#2F2E41" />
                                <path id="Vector_15" d="M295.093 452.805C293.135 456.068 290.371 458.773 287.066 460.661C283.762 462.548 280.027 463.555 276.222 463.584L190.262 464.235L186.534 442.612L224.56 431.428L192.498 406.823L227.542 365.815L291.192 425.139C294.912 428.606 297.329 433.246 298.039 438.281C298.749 443.317 297.709 448.444 295.093 452.805V452.805Z" fill="#2F2E41" />
                                <path id="Vector_16" d="M176.841 600.681H156.709C138.634 476.784 120.235 352.539 174.604 306.166L238.726 316.604L230.524 371.034L194.735 412.042L176.841 600.681Z" fill="#2F2E41" />
                                <path id="Vector_17" d="M192.537 638.748C190.961 639.178 189.312 639.269 187.698 639.016C186.085 638.763 184.543 638.171 183.174 637.279L163.315 624.341C158.618 621.281 155.226 616.585 153.795 611.165C152.365 605.744 152.999 599.986 155.574 595.006V595.006C164.831 600.444 172.951 599.685 180.008 593.127C184.978 603.307 191.394 612.716 199.054 621.062C200.093 622.586 200.753 624.335 200.979 626.166C201.204 627.996 200.989 629.853 200.352 631.584C199.714 633.314 198.672 634.867 197.313 636.113C195.954 637.359 194.316 638.263 192.537 638.748Z" fill="#2F2E41" />
                                <path id="Vector_18" d="M264.713 220.054H169.012C151.338 195.051 149.264 171.141 169.012 148.76C169.012 138.864 181.794 130.842 197.562 130.842H197.562C209.914 130.842 220.865 135.827 224.701 143.195L264.713 220.054Z" fill="#2F2E41" />
                                <path id="Vector_19" d="M224.56 223.403L187.279 214.456C193.471 201.782 193.981 187.68 191.007 172.702L216.358 171.956C217.152 190.582 219.555 207.983 224.56 223.403Z" fill="#FFB8B8" />
                                <path id="Vector_20" d="M234.805 339.054C207.667 357.547 188.491 339.687 173.858 312.131C175.892 295.269 172.599 275.09 166.501 253.165C163.79 243.494 164.802 233.158 169.339 224.197C173.876 215.236 181.607 208.302 191.007 204.763V204.763L223.068 218.184C250.292 240.375 255.65 264.411 245.437 289.763L234.805 339.054Z" fill="#D6B7A0" />
                                <path id="Vector_21" d="M156.709 242.044L126.885 257.701L179.823 289.017L187.189 307.187C187.681 308.399 187.92 309.699 187.893 311.008C187.866 312.316 187.572 313.605 187.031 314.796C186.489 315.987 185.71 317.056 184.742 317.936C183.774 318.817 182.637 319.491 181.4 319.917V319.917C179.994 320.402 178.494 320.555 177.019 320.364C175.544 320.172 174.133 319.642 172.897 318.815C171.661 317.987 170.633 316.885 169.894 315.594C169.156 314.302 168.726 312.858 168.638 311.373L167.893 298.71L100.61 276.506C98.3426 275.758 96.2756 274.504 94.5651 272.839C92.8546 271.174 91.5455 269.141 90.7369 266.895V266.895C89.5583 263.621 89.4983 260.048 90.5663 256.737C91.6344 253.425 93.7701 250.561 96.6395 248.592L150.744 211.474L156.709 242.044Z" fill="#FFB8B8" />
                                <path id="Vector_22" d="M186.534 245.026C174.095 239.575 162.784 245.497 148.508 250.245L146.271 210.728C160.447 203.172 173.963 201.135 186.534 207V245.026Z" fill="#D6B7A0" />
                                <path id="Vector_23" d="M262.958 220.054H241.85C228.713 195.819 229.309 152.999 201.073 162.542C182.932 151.776 193.341 194.027 188.83 220.054H170.473C165.485 194.624 165.416 169.142 171.284 148.419C171.339 147.062 171.681 145.731 172.286 144.515C172.891 143.298 173.746 142.223 174.795 141.36C175.706 140.524 176.692 139.775 177.741 139.122C184.227 135.035 188.584 132.708 198.061 132.708C203.364 132.696 208.644 133.422 213.748 134.865C214.412 135.059 215.068 135.268 215.702 135.486C216.574 135.785 217.417 136.112 218.222 136.462C222.367 138.245 225.626 140.658 227.169 143.678C245.034 164.984 254.153 191.865 262.958 220.054Z" fill="#2F2E41" />
                                <path id="Vector_24" d="M201.413 191.531C214.558 191.531 225.215 180.874 225.215 167.729C225.215 154.583 214.558 143.927 201.413 143.927C188.267 143.927 177.611 154.583 177.611 167.729C177.611 180.874 188.267 191.531 201.413 191.531Z" fill="#FFB8B8" />
                                <path id="Vector_25" d="M225.555 158.548C218.394 148.788 199.72 160.43 177.271 168.749V145.627C195.738 137.497 206.507 135.152 218.754 143.586L225.555 158.548Z" fill="#2F2E41" />
                                <g id="add-button">
                                    <path id="Vector_26" d="M564.659 145.318C596.503 145.318 622.318 119.503 622.318 87.6589C622.318 55.8147 596.503 30 564.659 30C532.815 30 507 55.8147 507 87.6589C507 119.503 532.815 145.318 564.659 145.318Z" fill="#D6B7A0" />
                                    <path id="Vector_27" d="M540.635 83.8541C539.626 83.8541 538.658 84.255 537.944 84.9685C537.231 85.6821 536.83 86.6499 536.83 87.659C536.83 88.6682 537.231 89.636 537.944 90.3495C538.658 91.0631 539.626 91.464 540.635 91.464H560.854V111.683C560.854 112.692 561.255 113.66 561.969 114.374C562.682 115.087 563.65 115.488 564.659 115.488C565.668 115.488 566.636 115.087 567.349 114.374C568.063 113.66 568.464 112.692 568.464 111.683V91.464H588.683C589.693 91.464 590.66 91.0631 591.374 90.3495C592.088 89.636 592.488 88.6682 592.488 87.659C592.488 86.6499 592.088 85.6821 591.374 84.9686C590.66 84.255 589.693 83.8541 588.683 83.8541H568.464V63.6344C568.464 62.6253 568.063 61.6576 567.349 60.944C566.636 60.2305 565.668 59.8297 564.659 59.8297C563.65 59.8297 562.682 60.2305 561.969 60.944C561.255 61.6576 560.854 62.6253 560.854 63.6344V83.8541H540.635Z" fill="white" />
                                </g>
                            </g>
                            <defs>
                                <clipPath id="clip0">
                                    <rect width="777.805" height="639.552" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>

                    </div>
                </div>

                <div className="user-dash-content">
                    {totalOrders.map((order) => (
                        <OrderUser
                            order={order}
                            key={order._id}
                        />
                    ))

                    }
                </div>

            </div>

        </div>
    )
}

export default DashboardPage
